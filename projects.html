<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Projects — Samuel Clement</title>
  <meta name="description" content="Visual & motion designer: editorial, branding, animation, and experimental projects.">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=PT+Mono&family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="https://www.samuelclement.it/3/wp-content/uploads/2025/04/cropped-Logo.png">
  <link rel="apple-touch-icon" sizes="180x180" href="https://www.samuelclement.it/3/wp-content/uploads/2025/04/cropped-Logo.png">
  <link rel="apple-touch-icon" sizes="167x167" href="https://www.samuelclement.it/3/wp-content/uploads/2025/04/cropped-Logo.png">
  <link rel="apple-touch-icon" sizes="152x152" href="https://www.samuelclement.it/3/wp-content/uploads/2025/04/cropped-Logo.png">
  <link rel="apple-touch-icon" sizes="120x120" href="https://www.samuelclement.it/3/wp-content/uploads/2025/04/cropped-Logo.png">

  <!-- Base CSS (stesso dell'index) -->
  <link rel="stylesheet" href="assets/css/style.css">
  <!-- CSS specifico per la pagina Projects -->
  <link rel="stylesheet" href="assets/css/projects.css">
</head>
<body class="projects">
  <div class="page-transition-overlay" id="transitionOverlay"></div>

  <!-- HEADER -->
 <header class="top-header">
  <div class="top-left">
    <a href="index.html" class="brand">SAMUEL CLEMENT</a>
    <span class="role">/Communication and Visual Designer</span>
  </div>
    <nav class="top-nav">
      <a href="projects.html" class="active">PROJECTS</a>
      <a href="index.html">INDEX</a>
      <a href="index.html#about" data-transition>ABOUT</a>
    </nav>
  </header>

 

  <!-- MAIN -->
<main class="projects-main">
  <div class="projects-list">

    <!-- HEADER RIGHE -->
    <div class="projects-header">
      <div class="ph-cell ph-icon"></div>
      <div class="ph-cell">No.</div>
      <div class="ph-cell">↓ Project</div>
      <div class="ph-cell">Client</div>
      <div class="ph-cell">Category</div>
      <div class="ph-cell">Year</div>
    </div>

    <!-- 001 -->
    <div class="project-block">
    <div class="project-item" data-target="proj-001" data-project="atm">
      <div class="pi-cell pi-icon"><img class="folder-icon" src="assets/img/closed-folder-icon.png" alt="" /></div>
      <div class="pi-cell">001</div>
      <div class="pi-cell">At the Mountains of Madness</div>
      <div class="pi-cell">Personal</div>
      <div class="pi-cell">Editorial / Illustration</div>
      <div class="pi-cell">2024</div>
    </div>
    <div class="project-detail" id="proj-001">
      <div class="project-detail-inner">
        <a href="projects/At-the-Mountains-of-Madness.html"
           class="detail-image-wrap"
           data-project="atm" data-transition>
          <img src="assets/img/projects/At-the-Mountains-of-Madness-project.png" alt="At the Mountains of Madness">
        </a>
        <div class="detail-text">
          <h3 class="detail-title">At the Mountains of Madness</h3>
          <div class="detail-subtitle">Editorial / Illustration — 2024</div>
          <p>At the Mountain of Madness is a fully illustrated reimagining of H.P. Lovecraft’s cult classic, brought to life through a bold and haunting visual style.
This isn’t just a retelling: every page is charged with detailed artwork that intensifies the dread and mystery of the original story. From the icy desolation of Antarctica to the twisted alien architecture, the illustrations immerse you deep into Lovecraft’s cosmic horror—making the madness not just something you read, but something you see and feel.</p>
        </div>
      </div>
    </div>
    </div>

    <!-- 002 -->
    <div class="project-block">
    <div class="project-item" data-target="proj-002" data-project="ilgermoglio">
      <div class="pi-cell pi-icon"><img class="folder-icon" src="assets/img/closed-folder-icon.png" alt="" /></div>
      <div class="pi-cell">002</div>
      <div class="pi-cell">Il Germoglio</div>
      <div class="pi-cell">Il Germoglio</div>
      <div class="pi-cell">Brand Identity / Packaging</div>
      <div class="pi-cell">2024</div>
    </div>
    <div class="project-detail" id="proj-002">
      <div class="project-detail-inner">
        <a href="projects/ilgermoglio.html"
           class="detail-image-wrap"
           data-project="ilgermoglio" data-transition>
          <img src="assets/img/projects/ilgermoglio-project.png" alt="Il Germoglio">
        </a>
        <div class="detail-text">
          <h3 class="detail-title">Il Germoglio</h3>
          <div class="detail-subtitle">Brand Identity / Packaging — 2024</div>
          <p>Identity and packaging for an organic store. Modular system, soft color accents and clear hierarchy between product lines.</p>
        </div>
      </div>
    </div>
    </div>

    <!-- 003 -->
    <div class="project-block">
    <div class="project-item" data-target="proj-003" data-project="jabberwocky">
      <div class="pi-cell pi-icon"><img class="folder-icon" src="assets/img/closed-folder-icon.png" alt="" /></div>
      <div class="pi-cell">003</div>
      <div class="pi-cell">Jabberwocky</div>
      <div class="pi-cell">Personal</div>
      <div class="pi-cell">Motion / Visual Experiment</div>
      <div class="pi-cell">2024</div>
    </div>
    <div class="project-detail" id="proj-003">
      <div class="project-detail-inner">
        <a href="projects/Jabberwocky.html"
           class="detail-image-wrap"
           data-project="jabberwocky" data-transition>
          <img src="assets/img/projects/Jabberwocky-project.webp" alt="Jabberwocky">
        </a>
        <div class="detail-text">
          <h3 class="detail-title">Jabberwocky</h3>
          <div class="detail-subtitle">Motion / Visual Experiment — 2024</div>
          <p>Experimental motion piece translating Lewis Carroll’s poem into fractured typography, noise and glitch transitions.</p>
        </div>
      </div>
    </div>
    </div>

    <!-- 004 -->
    <div class="project-block">
    <div class="project-item" data-target="proj-004" data-project="knoted">
      <div class="pi-cell pi-icon"><img class="folder-icon" src="assets/img/closed-folder-icon.png" alt="" /></div>
      <div class="pi-cell">004</div>
      <div class="pi-cell">Knoted</div>
      <div class="pi-cell">Collaborative</div>
      <div class="pi-cell">Identity / Motion</div>
      <div class="pi-cell">2024</div>
    </div>
    <div class="project-detail" id="proj-004">
      <div class="project-detail-inner">
        <a href="projects/Knoted.html"
           class="detail-image-wrap"
           data-project="knoted" data-transition>
          <video src="assets/img/projects/Knoted-project.webm" autoplay muted loop playsinline preload="metadata"></video>
        </a>
        <div class="detail-text">
          <h3 class="detail-title">Knoted</h3>
          <div class="detail-subtitle">Identity / Motion — 2024</div>
          <p>Visual identity and motion assets for a digital platform. Interlocking forms, tight grid and kinetic logo behaviour.</p>
        </div>
      </div>
    </div>
    </div>

    <!-- 005 -->
    <div class="project-block">
    <div class="project-item" data-target="proj-005" data-project="afterbook">
      <div class="pi-cell pi-icon"><img class="folder-icon" src="assets/img/closed-folder-icon.png" alt="" /></div>
      <div class="pi-cell">005</div>
      <div class="pi-cell">After Book</div>
      <div class="pi-cell">Collaborative</div>
      <div class="pi-cell">Identity / Motion</div>
      <div class="pi-cell">2024</div>
    </div>
    <div class="project-detail" id="proj-005">
      <div class="project-detail-inner">
        <a href="projects/after-book.html"
           class="detail-image-wrap"
           data-project="afterbook" data-transition>
          <video src="assets/img/projects/after-book-project.webm" autoplay muted loop playsinline preload="metadata"></video>
        </a>
        <div class="detail-text">
          <h3 class="detail-title">After Book</h3>
          <div class="detail-subtitle">Identity / Motion — 2024</div>
          <p>Collaborative project exploring dynamic typography and tactile motion for an experimental publication.</p>
        </div>
      </div>
    </div>
    </div>

    <!-- 006 -->
    <div class="project-block">
    <div class="project-item" data-target="proj-006" data-project="365posters">
      <div class="pi-cell pi-icon"><img class="folder-icon" src="assets/img/closed-folder-icon.png" alt="" /></div>
      <div class="pi-cell">006</div>
      <div class="pi-cell">365 Posters</div>
      <div class="pi-cell">Personal Project</div>
      <div class="pi-cell">Graphic Design &amp; Illustration</div>
      <div class="pi-cell">2022</div>
    </div>
    <div class="project-detail" id="proj-006">
      <div class="project-detail-inner">
        <a href="projects/365-posters.html"
           class="detail-image-wrap"
           data-project="365posters" data-transition>
          <img src="assets/img/projects/365-posters-project.jpg" alt="365 Posters" loading="lazy" width="1000" height="1245">
        </a>
        <div class="detail-text">
          <h3 class="detail-title">365 Posters</h3>
          <div class="detail-subtitle">Graphic Design &amp; Illustration — 2022</div>
          <p class="detail-desc-short">A curated selection from a 365-day poster challenge, highlighting the most impactful visual explorations.</p>
          <p class="detail-desc-long">This project is a year-long creative challenge where I designed one poster every single day for 365 days. Each piece explores different visual styles, techniques, and ideas—ranging from typography experiments to abstract compositions and bold graphic statements. The goal was to push my creative limits, stay consistent, and grow as a designer through daily practice. What you're seeing here is a curated selection of the best posters from the entire series—my personal highlights that represent the most impactful, original, or refined results from the project.</p>
        </div>
      </div>
    </div>
    </div>

    <!-- 007 -->
    <div class="project-block">
    <div class="project-item" data-target="proj-007" data-project="boundless">
      <div class="pi-cell pi-icon"><img class="folder-icon" src="assets/img/closed-folder-icon.png" alt="" /></div>
      <div class="pi-cell">007</div>
      <div class="pi-cell">Boundless Blades</div>
      <div class="pi-cell">Collaborative</div>
      <div class="pi-cell">Identity / Motion</div>
      <div class="pi-cell">2024</div>
    </div>
    <div class="project-detail" id="proj-007">
      <div class="project-detail-inner">
        <a href="projects/boundless-blades.html"
           class="detail-image-wrap"
           data-project="boundless" data-transition>
          <video src="assets/img/projects/boundless-blades-project.webm" autoplay muted loop playsinline preload="metadata"></video>
        </a>
        <div class="detail-text">
          <h3 class="detail-title">Boundless Blades</h3>
          <div class="detail-subtitle">Identity / Motion — 2024</div>
          <p>Energetic visual system merging metallic textures and fluid motion for a high-performance brand concept.</p>
        </div>
      </div>
    </div>
    </div>

    <!-- 008 -->
    <div class="project-block">
    <div class="project-item" data-target="proj-008" data-project="cumpa">
      <div class="pi-cell pi-icon"><img class="folder-icon" src="assets/img/closed-folder-icon.png" alt="" /></div>
      <div class="pi-cell">008</div>
      <div class="pi-cell">Cumpa</div>
      <div class="pi-cell">Collaborative</div>
      <div class="pi-cell">Identity / Motion</div>
      <div class="pi-cell">2024</div>
    </div>
    <div class="project-detail" id="proj-008">
      <div class="project-detail-inner">
        <a href="projects/cumpa.html"
           class="detail-image-wrap"
           data-project="cumpa" data-transition>
          <img src="assets/img/projects/Cumpa-project.jpg" alt="Cumpa" loading="lazy" width="1000" height="1200">
        </a>
        <div class="detail-text">
          <h3 class="detail-title">Cumpa</h3>
          <div class="detail-subtitle">Identity / Motion — 2024</div>
          <p>Brand and motion design for a creative collective — bold shapes, warm tones and dynamic grid rhythm.</p>
        </div>
      </div>
    </div>
    </div>

    <!-- 009 -->
    <div class="project-block">
    <div class="project-item" data-target="proj-009" data-project="luminal">
      <div class="pi-cell pi-icon"><img class="folder-icon" src="assets/img/closed-folder-icon.png" alt="" /></div>
      <div class="pi-cell">009</div>
      <div class="pi-cell">Luminal</div>
      <div class="pi-cell">Collaborative</div>
      <div class="pi-cell">Identity / Motion</div>
      <div class="pi-cell">2024</div>
    </div>
    <div class="project-detail" id="proj-009">
      <div class="project-detail-inner">
        <a href="projects/luminal.html"
           class="detail-image-wrap"
           data-project="luminal" data-transition>
          <video src="assets/img/projects/Luminal-project.webm" autoplay muted loop playsinline preload="metadata"></video>
        </a>
        <div class="detail-text">
          <h3 class="detail-title">Luminal</h3>
          <div class="detail-subtitle">Identity / Motion — 2024</div>
          <p>Conceptual motion identity exploring refraction and artificial light — minimalist and atmospheric approach.</p>
        </div>
      </div>
    </div>
    </div>

    <!-- 010 -->
    <div class="project-block">
    <div class="project-item" data-target="proj-010" data-project="speaklouder">
      <div class="pi-cell pi-icon"><img class="folder-icon" src="assets/img/closed-folder-icon.png" alt="" /></div>
      <div class="pi-cell">010</div>
      <div class="pi-cell">Speak Louder</div>
      <div class="pi-cell">Collaborative</div>
      <div class="pi-cell">Identity / Motion</div>
      <div class="pi-cell">2024</div>
    </div>
    <div class="project-detail" id="proj-010">
      <div class="project-detail-inner">
        <a href="projects/speak-louder.html"
           class="detail-image-wrap"
           data-project="speaklouder" data-transition>
          <img src="assets/img/projects/speak-louder-project.png" alt="Speak Louder" loading="lazy" width="1000" height="988">
        </a>
        <div class="detail-text">
          <h3 class="detail-title">Speak Louder</h3>
          <div class="detail-subtitle">Identity / Motion — 2024</div>
          <p>Typographic motion manifesto promoting clarity, empathy and directness through bold kinetic composition.</p>
        </div>
      </div>
    </div>
    </div>

    <!-- 011 -->
    <div class="project-block">
    <div class="project-item" data-target="proj-011" data-project="futureai">
      <div class="pi-cell pi-icon"><img class="folder-icon" src="assets/img/closed-folder-icon.png" alt="" /></div>
      <div class="pi-cell">011</div>
      <div class="pi-cell">The Future of AI</div>
      <div class="pi-cell">School project</div>
      <div class="pi-cell">Motion Graphic</div>
      <div class="pi-cell">2024</div>
    </div>
    <div class="project-detail" id="proj-011">
      <div class="project-detail-inner">
        <a href="projects/the-future-of-ai.html"
           class="detail-image-wrap"
           data-project="futureai" data-transition>
          <img src="assets/img/projects/the-future-of-ai.gif" alt="The Future of AI" loading="lazy" width="480" height="270">
        </a>
        <div class="detail-text">
          <h3 class="detail-title">The Future of AI</h3>
          <div class="detail-subtitle">Motion Graphic — 2024</div>
          <p>Animated short exploring AI’s human impact with textured, fast-paced motion.</p>
        </div>
      </div>
    </div>
    </div>

    <!-- 012 -->
    <div class="project-block">
    <div class="project-item" data-target="proj-012" data-project="pastiglie">
      <div class="pi-cell pi-icon"><img class="folder-icon" src="assets/img/closed-folder-icon.png" alt="" /></div>
      <div class="pi-cell">012</div>
      <div class="pi-cell">Pastiglie Leone</div>
      <div class="pi-cell">Collaborative</div>
      <div class="pi-cell">Identity / Motion</div>
      <div class="pi-cell">2024</div>
    </div>
    <div class="project-detail" id="proj-012">
      <div class="project-detail-inner">
        <a href="projects/pastiglie-leone.html"
           class="detail-image-wrap"
           data-project="pastiglie" data-transition>
          <img src="assets/img/projects/pastiglie-leone-project.png" alt="Pastiglie Leone" loading="lazy" width="800" height="722">
        </a>
        <div class="detail-text">
          <h3 class="detail-title">Pastiglie Leone</h3>
          <div class="detail-subtitle">Identity / Motion — 2024</div>
          <p>Reinterpretation of the iconic Italian confectionery brand through delicate textures and motion nostalgia.</p>
        </div>
      </div>
    </div>
    </div>

  </div>
</main>

  </main>

  <!-- BOTTOM LEFT -->
  <div class="fixed-bottom-left">
    <span id="privacyLink">© 2025</span>
    <a href="#" id="privacyLinkDesktop">Privacy policy</a>
  </div>

  <script src="assets/js/main.js"></script>
  <div id="privacy-modal" class="privacy-modal" aria-hidden="true">
    <div class="privacy-overlay" id="privacyOverlay"></div>
    <div class="privacy-content" role="dialog" aria-modal="true" aria-labelledby="privacyTitle">
      <button class="privacy-close" id="privacyClose" aria-label="Close">×</button>
      <h2 id="privacyTitle">Privacy Policy</h2>
      <div class="privacy-body">
        <h3>Privacy & Cookie Policy</h3>
        <p>In accordance with Article 13 of EU Regulation 2016/679 ("GDPR"), I inform you that any personal data provided through this website is processed with appropriate technical and organizational measures to ensure security, confidentiality, and protection of your rights.</p>
        <h3>1. Data Collected</h3>
        <p>This website may collect basic technical information through automatic tools (such as server logs or anonymous statistics).</p>
        <p>If you choose to contact me via email or contact form, the personal data you provide will be used solely to respond to your request. Your data will not be shared with third parties unless required by law.</p>
        <h3>2. Cookies</h3>
        <p>Cookies are small files stored on your device to ensure the website works correctly and to improve your browsing experience. You can delete or block cookies at any time through your browser settings.</p>
        <p>This website does not use profiling cookies.</p>
        <h3>3. Google Analytics (IP anonymized)</h3>
        <p>8amuel.com uses Google Analytics, a web analytics service provided by Google LLC, configured with IP anonymization.</p>
        <p>The data collected is aggregated and does not allow identification of individual users. It includes information such as visited pages, visit duration, and browser type.</p>
        <p>Because IP addresses are anonymized, no specific consent is required.</p>
        <p>You can disable cookies at any time through your browser settings. For more details, please refer to Google’s official Analytics policies.</p>
        <h3>Data Controller</h3>
        <p>Samuel Clement – Owner of 8amuel.com</p>
        <p>For any inquiries regarding the processing of personal data, you can contact me through the email provided on the website.</p>
      </div>
    </div>
  </div>
  
  <!-- JS: toggle righe -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const rows = Array.from(document.querySelectorAll('.project-item'));

      function openRow(row) {
        const block = row.closest('.project-block');
        const targetId = row.dataset.target;
        if (!targetId) return;
        const detail = document.getElementById(targetId);
        if (!detail) return;
        const key = row.dataset.project || '';
        const inner = detail.querySelector('.project-detail-inner');
        if (inner) {
          const link = inner.querySelector('.detail-image-wrap');
          if (link) link.style.display = 'none';
          const text = inner.querySelector('.detail-text');
          if (text) text.remove();
          const oldInd = inner.querySelector('.dg-indicators');
          if (oldInd) oldInd.remove();
          let gallery = inner.querySelector('.detail-gallery');
          if (!gallery) {
            gallery = document.createElement('div');
            gallery.className = 'detail-gallery';
            inner.appendChild(gallery);
          }
          gallery.innerHTML = '';
          const track = document.createElement('div');
          track.className = 'dg-track';
          const data = (typeof projectsData !== 'undefined') ? projectsData[key] : null;
          const imgs = (data && Array.isArray(data.images)) ? data.images : [];
          const caps = (data && Array.isArray(data.captions)) ? data.captions : null;
          let count = 0;
          imgs.forEach((src, i) => {
            const wrap = document.createElement('div');
            wrap.className = 'dg-item';
            const img = document.createElement('img');
            img.dataset.src = src;
            img.loading = 'lazy';
            img.alt = (data && data.title) ? data.title : '';
            wrap.appendChild(img);
            if (caps && caps[i]) {
              const cap = document.createElement('div');
              cap.className = 'dg-caption';
              cap.textContent = caps[i];
              wrap.appendChild(cap);
            }
            track.appendChild(wrap);
            count++;
          });
          const videos = [];
          if (data) {
            if (Array.isArray(data.videos)) videos.push(...data.videos);
            if (data.video) videos.push(data.video);
          }
          const seen = new Set();
          videos.forEach(v => {
            const vv = String(v || '');
            if (!vv || seen.has(vv)) return; seen.add(vv);
            const wrap = document.createElement('div');
            wrap.className = 'dg-item';
            if (/\.(mp4|webm)(\?.*)?$/i.test(vv)) {
              const video = document.createElement('video');
              video.controls = true;
              video.preload = 'none';
              video.playsInline = true;
              video.muted = true;
              video.setAttribute('data-lazy', '1');
              const srcEl = document.createElement('source');
              srcEl.dataset.src = vv;
              srcEl.type = vv.toLowerCase().endsWith('.mp4') ? 'video/mp4' : 'video/webm';
              video.appendChild(srcEl);
              video.addEventListener('error', () => {
                try {
                  const yt = Array.isArray((data && data.videos) || []) ? (data.videos.find(x => typeof x === 'string' && x.startsWith('http')) || null) : null;
                  if (yt) {
                    const iframe = document.createElement('iframe');
                    iframe.loading = 'lazy';
                    iframe.src = yt;
                    iframe.title = (data && data.title) ? data.title : '';
                    iframe.frameBorder = '0';
                    iframe.allow = 'autoplay; encrypted-media; picture-in-picture';
                    iframe.allowFullscreen = true;
                    wrap.innerHTML = '';
                    wrap.appendChild(iframe);
                  } else {
                    const img = document.createElement('img');
                    img.src = (Array.isArray((data && data.images) || []) && data.images.length) ? data.images[0] : '';
                    img.loading = 'lazy';
                    img.alt = (data && data.title) ? data.title : '';
                    wrap.innerHTML = '';
                    wrap.appendChild(img);
                  }
                } catch (_) {}
              });
              wrap.appendChild(video);
            } else {
              const iframe = document.createElement('iframe');
              iframe.loading = 'lazy';
              iframe.dataset.src = vv;
              iframe.title = (data && data.title) ? data.title : '';
              iframe.frameBorder = '0';
              iframe.allow = 'autoplay; encrypted-media; picture-in-picture';
              iframe.allowFullscreen = true;
              wrap.appendChild(iframe);
            }
            track.appendChild(wrap);
            count++;
          });
          gallery.appendChild(track);
          gallery.style.setProperty('--dg-count', String(count > 0 ? count : 1));
          const lazyImgs = Array.from(gallery.querySelectorAll('img[data-src]'));
          const lazyIframes = Array.from(gallery.querySelectorAll('iframe[data-src]'));
          const lazyVideos = Array.from(gallery.querySelectorAll('video[data-lazy="1"]'));
          const io = new IntersectionObserver(entries => {
            entries.forEach(entry => {
              if (!entry.isIntersecting) return;
              const el = entry.target;
              if (el.tagName === 'IMG') {
                el.src = el.dataset.src || '';
                el.removeAttribute('data-src');
              } else if (el.tagName === 'IFRAME') {
                el.src = el.dataset.src || '';
                el.removeAttribute('data-src');
              } else if (el.tagName === 'VIDEO') {
                const s = el.querySelector('source[data-src]');
                if (s) { s.src = s.dataset.src || ''; s.removeAttribute('data-src'); el.load(); }
                el.removeAttribute('data-lazy');
              }
              io.unobserve(el);
            });
          }, { root: null, rootMargin: '100px', threshold: 0.01 });
          lazyImgs.forEach(el => io.observe(el));
          lazyIframes.forEach(el => io.observe(el));
          lazyVideos.forEach(el => io.observe(el));
          let shift = 0;
          let maxShift = Math.max(0, track.scrollWidth - gallery.clientWidth);
          function recalc() {
            maxShift = Math.max(0, track.scrollWidth - gallery.clientWidth);
            if (shift > maxShift) shift = maxShift;
            track.style.transform = 'translate3d(' + (-shift) + 'px,0,0)';
          }
          recalc();
          const mediaEls = Array.from(track.querySelectorAll('img, iframe, video'));
          mediaEls.forEach(el => {
            if (el.tagName === 'VIDEO') {
              el.addEventListener('loadedmetadata', recalc, { once: true });
            } else {
              el.addEventListener('load', recalc, { once: true });
            }
          });
          const ro = new ResizeObserver(() => recalc());
          ro.observe(track);
          detail._dgRO = ro;
          function onWheel(e) {
            const dy = (typeof e.deltaY === 'number') ? e.deltaY : 0;
            if (!dy) return;
            const step = (e.deltaMode === 1 ? 40 : 1);
            if (maxShift <= 0) return;
            e.preventDefault();
            if (typeof e.stopPropagation === 'function') e.stopPropagation();
            if (typeof e.stopImmediatePropagation === 'function') e.stopImmediatePropagation();
            shift = Math.min(Math.max(shift + dy * step, 0), maxShift);
            track.style.transform = 'translate3d(' + (-shift) + 'px,0,0)';
          }
          const wheelOpts = { passive: false, capture: true };
          gallery.addEventListener('wheel', onWheel, wheelOpts);
          detail.addEventListener('wheel', onWheel, wheelOpts);
          track.addEventListener('wheel', onWheel, wheelOpts);
          detail._dgWheel = onWheel;
          detail._dgWheelTargets = [gallery, detail, track];
          detail._dgRecalc = recalc;
          window.addEventListener('resize', recalc);

          // Touch: swipe orizzontale su mobile
          let tsX = 0, tsY = 0, lastTX = 0;
          function onTouchStart(e) {
            const t = (e.touches && e.touches[0]) || null;
            if (!t) return;
            tsX = lastTX = t.clientX;
            tsY = t.clientY;
          }
          function onTouchMove(e) {
            const t = (e.touches && e.touches[0]) || null;
            if (!t) return;
            const dxAbs = Math.abs(t.clientX - tsX);
            const dyAbs = Math.abs(t.clientY - tsY);
            const horizontal = dxAbs > dyAbs;
            if (horizontal && maxShift > 0) {
              e.preventDefault();
              const dx = t.clientX - lastTX;
              lastTX = t.clientX;
              shift = Math.min(Math.max(shift - dx, 0), maxShift);
              track.style.transform = 'translate3d(' + (-shift) + 'px,0,0)';
            }
          }
          function onTouchEnd() {}
          const touchOpts = { passive: false, capture: true };
          gallery.addEventListener('touchstart', onTouchStart, touchOpts);
          gallery.addEventListener('touchmove', onTouchMove, touchOpts);
          gallery.addEventListener('touchend', onTouchEnd, touchOpts);
          gallery.addEventListener('touchcancel', onTouchEnd, touchOpts);
          detail._dgTouch = { onTouchStart, onTouchMove, onTouchEnd };
          detail._dgTouchTargets = [gallery];
        }
        row.classList.add('is-open');
        if (block) block.classList.add('is-open');
        detail.classList.add('is-open');
        detail.style.maxHeight = detail.scrollHeight + 'px';
        const icon = row.querySelector('.folder-icon');
        if (icon && icon.tagName.toLowerCase() === 'img') {
          icon.src = 'assets/img/open-folder-icon.png';
        }
        if (window.matchMedia('(max-width: 600px)').matches) {
          const detailText = detail.querySelector('.detail-text');
          if (detailText) {
            const meta = detailText.querySelector('.detail-meta');
            if (meta) meta.remove();
          }
        }
      }

      function closeRow(row) {
        const block = row.closest('.project-block');
        const targetId = row.dataset.target;
        if (!targetId) return;
        const detail = document.getElementById(targetId);
        if (!detail) return;
        if (detail._dgRecalc) { window.removeEventListener('resize', detail._dgRecalc); detail._dgRecalc = null; }
        if (detail._dgWheel && detail._dgWheelTargets) {
          try { detail._dgWheelTargets.forEach(t => t.removeEventListener('wheel', detail._dgWheel, true)); } catch {}
          detail._dgWheel = null;
          detail._dgWheelTargets = null;
        }
        if (detail._dgTouch && detail._dgTouchTargets) {
          try {
            detail._dgTouchTargets.forEach(t => {
              t.removeEventListener('touchstart', detail._dgTouch.onTouchStart, true);
              t.removeEventListener('touchmove', detail._dgTouch.onTouchMove, true);
              t.removeEventListener('touchend', detail._dgTouch.onTouchEnd, true);
              t.removeEventListener('touchcancel', detail._dgTouch.onTouchEnd, true);
            });
          } catch {}
          detail._dgTouch = null;
          detail._dgTouchTargets = null;
        }
        if (detail._dgRO) { try { detail._dgRO.disconnect(); } catch {} detail._dgRO = null; }
        row.classList.remove('is-open');
        if (block) block.classList.remove('is-open');
        detail.classList.remove('is-open');
        detail.style.maxHeight = 0;
        const icon = row.querySelector('.folder-icon');
        if (icon && icon.tagName.toLowerCase() === 'img') {
          icon.src = 'assets/img/closed-folder-icon.png';
        }
      }

      rows.forEach(row => {
        const icon = row.querySelector('.folder-icon');
        if (icon && icon.tagName.toLowerCase() === 'img') {
          icon.src = 'assets/img/closed-folder-icon.png';
        }
        row.addEventListener('click', () => {
          if (row.classList.contains('is-open')) {
            closeRow(row);
          } else {
            const openRows = Array.from(document.querySelectorAll('.project-item.is-open'));
            openRows.forEach(r => closeRow(r));
            openRow(row);
          }
        });
        const isMobile = window.matchMedia && window.matchMedia('(max-width: 900px)').matches;
        if (!isMobile) {
          const previewMap = {
            atm: 'assets/img/projects/At-the-Mountains-of-Madness-project.png',
            ilgermoglio: 'assets/img/projects/ilgermoglio-project.png',
            jabberwocky: 'assets/img/projects/Jabberwocky-project.webp',
            knoted: 'assets/img/projects/Knoted-project.webm',
            afterbook: 'assets/img/projects/after-book-project.webm',
            '365posters': 'assets/img/projects/365-posters-project.jpg',
            boundless: 'assets/img/projects/boundless-blades-project.webm',
            cumpa: 'assets/img/projects/Cumpa-project.jpg',
            luminal: 'assets/img/projects/Luminal-project.webm',
            speaklouder: 'assets/img/projects/speak-louder-project.png',
            futureai: 'assets/img/projects/the-future-of-ai.gif',
            pastiglie: 'assets/img/projects/pastiglie-leone-project.png'
          };
          let pv = document.getElementById('rowPreview');
          if (!pv) {
            pv = document.createElement('div');
            pv.id = 'rowPreview';
            const img = document.createElement('img');
            const video = document.createElement('video');
            video.muted = true;
            video.loop = true;
            video.autoplay = true;
            video.playsInline = true;
            video.setAttribute('playsinline', '');
            video.preload = 'metadata';
            img.style.display = 'none';
            video.style.display = 'none';
            pv.appendChild(img);
            pv.appendChild(video);
            document.body.appendChild(pv);
          }
          const imgEl = pv.querySelector('img');
          const vidEl = pv.querySelector('video');
          let raf = null;
          let lastX = 0, lastY = 0;
          let showTimer = null;
          function schedulePos(x, y) {
            lastX = x; lastY = y;
            if (raf) return;
            raf = requestAnimationFrame(() => {
              raf = null;
              const dx = Math.max(12, Math.min(window.innerWidth - 12, lastX));
              const dy = Math.max(12, Math.min(window.innerHeight - 12, lastY));
              pv.style.left = dx + 'px';
              pv.style.top = dy + 'px';
            });
          }
          row.addEventListener('mouseenter', (e) => {
            if (row.classList.contains('is-open')) { pv.classList.remove('visible'); return; }
            const key = row.dataset.project || '';
            const src = previewMap[key];
            if (!src) return;
            if (/\.(webm|mp4)(\?.*)?$/i.test(src)) {
              imgEl.style.display = 'none';
              vidEl.src = src;
              vidEl.style.display = 'block';
              try { const r = vidEl.play(); if (r && typeof r.then === 'function') r.catch(() => {}); } catch(_){}
            } else {
              vidEl.pause();
              vidEl.style.display = 'none';
              imgEl.src = src;
              imgEl.style.display = 'block';
            }
            pv.classList.add('visible');
          });
          row.addEventListener('mousemove', (e) => {
            schedulePos(e.clientX, e.clientY);
          }, { passive: true });
          row.addEventListener('mouseleave', () => {
            clearTimeout(showTimer);
            try { vidEl.pause(); } catch(_){}
            pv.classList.remove('visible');
          });
          row.addEventListener('click', () => {
            clearTimeout(showTimer);
            try { vidEl.pause(); } catch(_){}
            pv.classList.remove('visible');
          });
        }
      });

      // Auto-apertura disattivata: i progetti si aprono solo al click

      document.querySelectorAll('.project-detail-inner').forEach(inner => {
        inner.addEventListener('click', (e) => {
          const t = e.target;
          if (t && (t.closest('a') || t.closest('button') || t.closest('video') || t.closest('iframe'))) return;
          const link = inner.querySelector('.detail-image-wrap');
          if (!link) return;
          const href = link.getAttribute('href');
          if (!href) return;
          window.open(href, '_blank', 'noopener');
        }, true);
        const gallery = inner.querySelector('.detail-gallery');
        if (gallery) {
          gallery.addEventListener('click', (e) => {
            const t = e.target;
            if (t && (t.closest('video') || t.closest('iframe'))) return;
            const link = inner.querySelector('.detail-image-wrap');
            if (!link) return;
            const href = link.getAttribute('href');
            if (!href) return;
            window.open(href, '_blank', 'noopener');
          });
        }
      });
    });
  </script>
</body>
</html>
